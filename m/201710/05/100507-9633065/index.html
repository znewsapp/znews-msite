<!DOCTYPE html>



 <html class="no-js"> 
<head>
    <title>從「圓角小主」到「圓角大王」，一部 iPhone 的美學進化史 &middot; ZNews</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta http-equiv="content-language" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="author" content="">
    <meta name="description" content="">

    
    <meta property="og:image" content="https://pic4.zhimg.com/v2-4d8960847d51153c564d3ecbc18f2d6f.jpg">
    <meta property="og:type" content="article">
    

    
    <meta property="og:url" content="http://znews.site/m/201710/05/100507-9633065/">
    

    <!-- Stylesheets -->
    <link rel="stylesheet" type="text/css" href="http://znews.site/css/main.css" />
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:400italic,400,300,700|Lora:400,700,400italic" rel="stylesheet" type="text/css">
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/styles/tomorrow.min.css" />
    
</head>
<body>

    <div class="off-canvas">
    <figure class="avatar">
        <img src="http://znews.site/img/zicon.png" title="">
    </figure>
    <div class="bio">
        
        
    </div>
    <nav>

        

        

        <ul>
            <li><a target="_blank" href="http://znews.site/index.xml">RSS feed</a></li>
            <li><a href="mailto:admin@znews.site" target="_top">Contact us</a></li>
        </ul>

        

        <ul>
        
        </ul>
    </nav>
</div>


    <script async='async' src='https://www.googletagservices.com/tag/js/gpt.js'></script>
    <script>
    var googletag = googletag || {};
    googletag.cmd = googletag.cmd || [];
    </script>

    <script>
    googletag.cmd.push(function() {
      googletag.defineSlot('/23865961/testad1', [300, 250], 'div-gpt-ad-1470795637655-0').addService(googletag.pubads());
      googletag.pubads().enableSingleRequest();
      googletag.enableServices();
    });
    </script>

    <div class="site-wrapper">
        <header>
	<div class="h-wrap">
		
		<h1 class="title"><a href="http://znews.site/">ZNews</a></h1>
		
		<a class="menu-icon" title="Menu"><span class="lines"></span></a>
	</div>
</header>

        <section class="single-wrap">
            <article class="single-content" itemscope itemtype="//schema.org/BlogPosting">
                <div class="feat">
                    <h5 class="page-date">
                    <time datetime="" itemprop="datePublished">
                    5. October 2017
                    </time>
                    </h5>
                </div>
                <h1 class="page-title" itemprop="name headline">從「圓角小主」到「圓角大王」，一部 iPhone 的美學進化史</h1>

                <div id='div-gpt-ad-1470795637655-0' style='height:250px; width:300px;'>
                <script>
                googletag.cmd.push(function() { googletag.display('div-gpt-ad-1470795637655-0'); });
                </script>
                </div>

                <div itemprop="articleBody">
                    <div class="main-wrap content-wrap">
<div class="headline">

<div class="img-place-holder"></div>



</div>

<div class="content-inner">



<div class="question">
<h2 class="question-title">從圓角到圓角</h2>
<div class="answer">



<div class="content">
<p>iPhone 一直都是關於屏幕，Steve Jobs 在 2007 年發佈會上就將第一代 iPhone 的 3.5 吋顯示屏稱爲&ldquo;巨大的屏幕&rdquo;，而在 iPhone <a class=" wrap external" href="https://link.zhihu.com/?target=https%3A//www.cultofmac.com/488008/jony-ive-book-excerpt-iphone/" target="_blank" rel="nofollow noreferrer">設計最初階段</a>也同&ldquo;無邊泳池&rdquo;這個意象相關聯，所有的設計元素遵從於屏幕而不能讓用戶分心，全屏幕設計的 iPhone X 將對這一理念的執行提到具有劃時代意義的高度之上，由 iPhone X 劃分前後兩個時代。</p>
<p>但是僅一塊大屏幕無法開啓未來，屏佔比和邊框寬度之類的參數指標無法用來作爲時代劃分的依據，用戶的認知並非受控於一些參數條，從 89% 增大到 90% 對用戶來說並沒有質的改變。質的改變必須作用於用戶的認知，不是用語言上的假象或者宣傳手段來說服，而是用真象和產品，遞出一把鑰匙，也就是設計。</p>
<p>一個革命性的產品背後有大量的技術的支撐，每一處創新的實現背後又有大量的繁雜的具體工作，但是用戶認識到的卻是產品的&ldquo;<a class=" wrap external" href="https://link.zhihu.com/?target=http%3A//www.hi-id.com/%3Fp%3D3098" target="_blank" rel="nofollow noreferrer">外在形象</a>&rdquo;，這個外在形象具有自明性，並非技術使然，用戶認識到的產品的外在形象與技術無任何關係，比如用戶認識到的手機就是它的外在形象，手機裏面的 CPU 或者製作這款手機的工藝等對用戶來說沒有意義，因此，設計師工作的兩面性在於，臺前，需要將外在形象與背後的技術相隔離開，幕後，則需要爲實現這個外在形象去與背後的技術形成關聯。我們看到的那些炫技的設計，就是設計師期望外在形象與背後技術形成關聯，以及我們經常能見到的那些以參數爲目標的設計，也是如此。</p>
<p>產品的外在形象越簡潔越易識別，越脫離技術關聯就越有說服力。</p>
<p>很多手機廠商在宣傳自己的大屏幕手機時，總會使用到一個手段，比如是平面廣告還是視頻上，那就是讓手機屏幕內的內容與所處的背景融合在一起，讓人感覺手機消失了，或者說邊框消失了，這種宣傳手段在強調的恰恰是手機的技術參數一面，而與&ldquo;外在形象&rdquo;沒有太大關聯。</p>
<p>iPhone X 上脫離了技術關聯的就是全屏幕，而塑造 iPhone X 的全屏幕外在形象最重要的設計特徵就是四個圓角。柔性 OLED 屏幕的切割和摺疊，相應的電路堆疊技術，或者是圓角處的次像素反走樣渲染等等技術內容，對廠家來說，可以用此輔助來向用戶說明自己創新的獨特之處，但對於用戶來說，真正關心的只有外在形象，也就是這塊獨特的圓角全面屏。通常來說，如此大的圓角的屏幕是反技術的，不符合技術的理性導向，也就是爲什麼它需要更多額外技術支撐的原因，但在產品之上，在用戶關心的外在形象之上，這個圓角屏幕卻是非常自然的結果，依照手機的形態形成的均一的屏幕外輪廓符合全面屏的概念；而另外一面，突破常規的形象（屏幕總是四四方方的）則又能表現出它的革命性。</p>
<p>Apple 標誌性的圓角曲線在 iPhone X 的應用，將其劃時代的意義通過外在形象向前推了一大步，並與其他廠家的類似產品形成差距，人們將進一步認爲 iPhone X 纔是真正的全面屏，而其他的設計，如屏幕的外輪廓沒有追隨機身形態，都會被認爲不夠徹底的。與此同時，如果屏幕的圓角很小，它就更像一個技術革新產品，無法脫離技術關聯感，也就是無法爲用戶的認知帶來革新。在 iPhone X 上，屏幕的圓角，以及因這個圓角形成的整體形象的重要性，從 Apple 對屏幕上端的缺口處理就可以得到驗證。從 Apple 的產品圖和宣傳資料上看，對屏幕的缺口（Notch）不僅毫無掩飾，而且還加以強調和渲染，爲突出 Face ID，爲形成一個標誌性的視覺元素，也是以不避諱的方式在強調全屏幕形象。我們甚至可以確定，iPhone X 上端屏幕缺口兩側的圓角區域，就是爲了營造&ldquo;外在形象&rdquo;，從功能、技術和理性層面來說，更傾向於將屏幕上端做齊平而無缺口，這個外在形象是如此重要，Apple 甚至在軟件界面上也不去對這個缺口作過多的掩飾。</p>
<img class="content-image" src="https://pic3.zhimg.com/50/v2-b4c38c4464a018a99152d27f9190ab2a_b.jpg" alt="">
<p>如我們所知，從 iOS 開始，Apple 將產品上的圓角曲線應用到界面之上，主要是圍繞着圓角四邊形的圖標上，而從 iPhone X 上的 iOS 11 上可以看到，在界面上加入了更多圓角曲線的元素，就像上圖所示的一角所展示，從外到內，形成了一層層更加連續的多度，從最外側的圓角開始一直等距遞進到電話圖標，如果去仔細覈算，這個角落可以數出至少 7 條等距圓角曲線。</p>
<p>到處都是圓角。</p>
<img class="content-image" src="https://pic4.zhimg.com/50/v2-66ccbe6ab27a81e44953ab5a5552138b_b.jpg" alt="">
<p>早期的計算機採用的是 CRT 顯示器，而 CRT 顯示器是用真空玻璃管做成的，要保證它的安全和密閉性，以及可製造性，CRT 顯示器玻璃要做成凸面的，而且四周的外輪廓並非四四方方，而是向外凸的弧線形成的四邊形，四個角當然就爲圓角，所以，早期的 CRT 顯示器基本都是外凸並且四角都有大圓角。</p>
<p>上圖分別是 1981 年的 Xerox Star 8010 和 1984 年的 Macintosh 電腦，可以看出當時圍繞着屏幕的設計是如何抵消弧面屏幕的反直覺性，通常的方式就是用罩殼圈出一個相對四方的顯示區域，比如 <a class=" wrap external" href="https://link.zhihu.com/?target=https%3A//en.wikipedia.org/wiki/Xerox_Alto" target="_blank" rel="nofollow noreferrer">Xerox Alto 那樣</a>，而四角的圓角處理可以讓顯示區域顯得更平（因爲四角形態收縮更厲害）。Xerox Star 8010 在罩殼下都爲內容顯示區，而 Macintosh 則有大的黑邊，內容顯示區域面積更小也更爲平坦，Macintosh 上的這個黑邊爲界面顯示黑色，並非顯像管上的非顯示區，與&ldquo;用黑色來掩蓋 iPhone X 上的屏幕缺口&rdquo;同理。</p>
<p>Macintosh 界面四周有小小的圓角，可以看出是經過設計的圓角。</p>
<img class="content-image" src="https://pic2.zhimg.com/50/v2-990926cd703b014d296b1986176ddd31_b.jpg" alt="">
<p>左圖爲 1983 年發行的 Lisa Office System 3.1（圖片來自 <a class=" wrap external" href="https://link.zhihu.com/?target=https%3A//en.wikipedia.org/wiki/Apple_Lisa" target="_blank" rel="nofollow noreferrer">Wikipedia</a>），可以看到界面的四角，以及計算器的界面輪廓都出現了圓角四邊形。</p>
<p>按 Andy Hertzfeld 在 <a class=" wrap external" href="https://link.zhihu.com/?target=https%3A//www.folklore.org/ProjectView.py%3Fproject%3DMacintosh%26sortOrder%3DSort%2Bby%2BDate" target="_blank" rel="nofollow noreferrer">The Original Macintosh</a> 中所寫，Apple 在軟件界面上出現圓角四邊形可以追溯到 1981 年，Andy Hertzfeld 在 <a class=" wrap external" href="https://link.zhihu.com/?target=https%3A//www.folklore.org/StoryView.py%3Fproject%3DMacintosh%26story%3DRound_Rects_Are_Everywhere.txt" target="_blank" rel="nofollow noreferrer">Round Rects Are Everywhere!</a> 這一節中說到了圓角四邊形誕生時的故事。當時 Apple 的天才程序員 Bill Atkinson 正向團隊展示他是如何用一種聰明的方法可以在僅有 68000 處理器的 Lisa 和 Macintosh 機器上快速畫出圓和橢圓，Steve Jobs 看了之後有另外的想法，他說：&ldquo;圓和橢圓都不錯，但是能畫出帶圓角的四邊形嗎？我們現在也能畫出嗎？&rdquo; Bill Atkinson 回答說很難做到，而且他認爲並不真需要圓角四邊形，Steve Jobs 就立刻強烈迴應了：&ldquo;到處都是圓角四邊形！看看這個房間周圍就知道了！&rdquo;並且還帶着 Bill Atkinson 出去轉看可以碰到多少圓角四邊形，最後 Bill Atkinson 被說服，第二天下午就拿出了滿意的結果。</p>
<p>接着，圓角四邊形在 Apple 的軟件界面上到處都是了。</p>
<p><strong>iOS 的圓角圖標</strong></p>
<img class="content-image" src="https://pic1.zhimg.com/50/v2-6260cd895bcdea78500a5636d524a514_b.jpg" alt="">
<p>2013 年隨着 iOS 7 的發佈，Apple 將 iOS 上的標誌性的圓角圖標輪廓作了更新，將工業設計中的曲線連續概念應用到了視覺設計之上，iOS 7 之前的圓角圖標，也包括通常的平面設計軟件中繪製的圓角四邊形，圓角部分爲一段圓弧，那麼在直線和曲線的連接點處曲率從 0 立刻過渡到一個恆定的數值，帶來的視覺感覺就是過渡不順暢，保證順暢就需要讓直線到曲線過渡中形成一個連續的變化，從 0 逐漸地過渡到某個數值，而不是從 0 跳動到某個數值。在實際操作中，並非一件簡單的事，曲線的過渡也是一件講究技藝的事，也要求一定的<a class=" wrap external" href="https://link.zhihu.com/?target=http%3A//www.hi-id.com/%3Fp%3D3146" target="_blank" rel="nofollow noreferrer">數學意識</a>。</p>
<p>iOS 7 在介紹新的圓角圖標輪廓時，給出了上圖右的一張線框示意圖，圖中在圓角處密密麻麻的點讓人感到困惑，並非難以逆向破解，由於最近 Apple 在 UI Design Resources 上給出了 <a class=" wrap external" href="https://link.zhihu.com/?target=https%3A//developer.apple.com/design/resources/" target="_blank" rel="nofollow noreferrer">iOS UI 素材的下載</a>，裏面包含了這個圓角圖標輪廓的矢量圖，我們可以通過這個矢量圖可以挖掘到一些信息。</p>
<p><strong>簡單的概念</strong></p>
<img class="content-image" src="https://pic4.zhimg.com/50/v2-2f15f7f45be632f5fb220f21e3fd9a6f_b.jpg" alt="">
<p>在前文《<a class=" wrap external" href="https://link.zhihu.com/?target=http%3A//www.hi-id.com/%3Fp%3D3231" target="_blank" rel="nofollow noreferrer">J 的藝術，R 的藝術</a>》已經對曲率連續一些基本概念作過介紹，在此稍作重複一下。</p>
<p>上圖 a 爲 1/4 圓弧過渡的圓角，iOS 7 之前的圓角圖標，通常平面軟件繪製的圓角四邊形，以及通常我們稱作&ldquo;導圓角&rdquo;，都爲上圖 a 所示的方式。因爲直線的曲率爲 0，而圓弧的曲率爲一固定值，所以從直線到圓弧有曲率的突變，雖然是切線連續（G1 連續），但是無法達到曲率連續（G2 連續），這種過渡的不順暢我們可以通過視覺很明顯地感覺到。</p>
<p>上圖 b 爲用一段曲線替代了 1/4 圓弧作過渡，繪製時要求連接直線的兩端達到曲率連續，即這段曲線的曲率是從兩端的 0 逐漸連續的增大的，我們能夠從圖形的四個角上看到過渡順暢，但是，存在一個問題就是，看上去四個角不夠圓了。雖然光滑但不夠圓，我們也可以從曲率的示意圖中觀察到，這條曲線曲率的變化不具備圓的特徵，因爲圓的曲率處處相等，均質而統一的。</p>
<p>我們需要做的是將上面兩種情況進行綜合，曲線與直線連接端來保證過渡的順暢，而儘可能提到曲線的圓度，即讓曲線中間段的部分曲率的變化極爲緩和，接近圓的均質統一的曲率特徵。</p>
<p>上圖 C 就是採用這種策略的一種示意，曲線兩頭連續過渡，中間部分過渡緩慢，接近均等。</p>
<p>但是上圖 C 所示僅爲一個粗略的示意，在實際的工作中，要求將會比這更高，比如說對圓度的要求到底是要多高，甚至包括曲率過渡是以怎樣的速度或加速度來進行也可能需要在考慮之中，另外也將牽涉到數據的傳遞，比如從設計到生產，如何來保證形狀在傳遞過程中的保真性。</p>
<p>但我們先否定幾個通常對 iOS 圓角圖標的猜測。</p>
<p><strong>iOS 圓角圖標不是超橢圓</strong></p>
<img class="content-image" src="https://pic4.zhimg.com/50/v2-92673ca81e481b4e308e9cfcabe802ef_b.jpg" alt="">
<p>一個有趣的現象是，逆向如果是更多依賴於猜測，會發現結果就是指向自己的假設，而在討論 iOS 圓角圖標是怎樣的圖標和曲線，或者去擬合產品上的曲線，甲乙丙丁走向不同方向，而且誰都認爲自己是正確的，而且一看擬合結果，嚴絲合縫。</p>
<p>比如 iOS 7 發佈不久，<a class=" wrap external" href="https://link.zhihu.com/?target=https%3A//twitter.com/marcedwards/status/347451374214213633" target="_blank" rel="nofollow noreferrer">有人認爲</a>是超橢圓（<a class=" wrap external" href="https://link.zhihu.com/?target=https%3A//en.wikipedia.org/wiki/Superellipse" target="_blank" rel="nofollow noreferrer">Superellipse</a>），可能不少人看到超橢圓這個嚇人的專業詞就認爲八九不離十了，而且一看兩者<a class=" wrap external" href="https://link.zhihu.com/?target=https%3A//imgur.com/RfAk1lv" target="_blank" rel="nofollow noreferrer">相擬合的圖</a>，嚴絲合縫，而且還給出如何在</p>
<p>Photoshop 中使用的指南，但是殊不知平面軟件使用的 3 階貝塞爾曲線，而擬合用到的卻是一個 5 次方程式。其實超橢圓從頭到尾都是曲線，而沒有一條直線段，iOS 7 的圓角圖標明顯有直線部分，如果連這都能匹配上，可想而知用視覺來判斷是否高度擬合是多麼不可信。</p>
<p>如 <a class=" wrap external" href="https://link.zhihu.com/?target=https%3A//en.wikipedia.org/wiki/Superellipse" target="_blank" rel="nofollow noreferrer">Wikipedia 所述</a>，超橢圓是橢圓函數的一般化，即當曲線階數爲 2 的時候爲橢圓，當階數爲 4 的時候，如上圖左所示爲方圓形（<a class=" wrap external" href="https://link.zhihu.com/?target=https%3A//en.wikipedia.org/wiki/Squircle" target="_blank" rel="nofollow noreferrer">Squircle</a>），介於圓和方之間圖形（Nokia 的 MeeGo UI 圖標被認爲是類似 Squircle ），上圖右爲階數爲 5 的曲線。</p>
<p>從視覺上就能看出超橢圓是曲線，找不到具有圓度的地方，從曲率分佈示意圖就可以看出，曲率總是在連續過渡，而且階數越高加速度就越大，即曲率過渡的光滑程度越高。</p>
<img class="content-image" src="https://pic2.zhimg.com/50/v2-6bd879ec77f59316384de8c9d88f2429_b.jpg" alt="">
<p>與超橢圓有些類似的是 Rhino 裏一個圓角工具（右鍵點擊），圓錐曲線圓角四邊形，是用一段圓錐曲線（二次曲線）繪製成 1/4 圖形，圓錐曲線圓角四邊形的一端極值爲圓，而另外一端極值爲直角四邊形，所以圓錐曲線圓角四邊形是不具有圓度的曲線。圓錐曲線因爲階數不高，所以曲線的數學結構較簡單，適合繪製一些不圓不方的圖形，可以與上面的超橢圓曲線來比較，就會發現圓錐曲線圓角四邊形的線條的塑造能力不及高階的曲線，即一個跨度內曲線的形態塑造能力非常有限，所以除了特殊要求，通常很少用到這一類曲線。另外由於它是二次曲線，所以數據輸出的時候需留意。</p>
<p><strong>iOS 圓角圖標不是羊角螺線</strong></p>
<img class="content-image" src="https://pic2.zhimg.com/50/v2-500d16a8f7d6c72f2a0de914e85d18d1_b.jpg" alt="">
<p>羊角螺線（<a class=" wrap external" href="https://link.zhihu.com/?target=https%3A//en.wikipedia.org/wiki/Euler_spiral" target="_blank" rel="nofollow noreferrer">Euler spiral</a> 或者 Cornu spirals）同上面類似，如果來擬合 iOS 的圓角圖標，也可能會達到高度匹配的結果，但實際並不是。</p>
<p>以前羊角螺線常用於公路和鐵路工程之上，&ldquo;以緩和直路線與圓曲路線之間的曲率變化&rdquo;（<a class=" wrap external" href="https://link.zhihu.com/?target=https%3A//zh.wikipedia.org/wiki/%25E7%25BE%258A%25E8%25A7%2592%25E8%259E%25BA%25E7%25BA%25BF" target="_blank" rel="nofollow noreferrer">Wikipedia 介紹</a>）。而羊角螺線的主要特徵是，它的曲率從 0 開始，而且是隨着曲線長度（弧長）增大而線性增大，所以當一條羊角螺線的尾部與一個圓形相連時，那麼這條曲線肯定是曲率連續的。如上圖右所示的兩種圖形，一條爲與圓相連（圓角四邊形內部），一條爲一段羊角螺線的鏡像連接（圓角四邊形，左上角），它們都是曲率連續的（G2 連續）。</p>
<p>正因爲羊角螺線的這個特性，隨着曲線長度的增大麴線呈線性增大，讓其具有不少應用之處。在上圖右中，雖然我們看到了曲率的變化率曲線（紅線）具有尖點和不連續性，但是曲線本身（低一階次）是光滑連續的。上圖右的圓角四邊形左上角使用的是一段羊角螺線的鏡像連接，它的曲率從 0 線性增大到某個值，然後又降回到 0，按我們上面的基本概念中介紹，這樣的曲線是不具有圓度的。</p>
<p>那麼羊角螺線既然有這樣的特徵，我們可以在中間加入一段圓弧，如上圖右的圓角四邊形的右上角所示，就得到了一個連續的圓角，而且圓度有保證，首尾與直線段也是曲線連續，而且三段曲線形成的圓角的曲率的變化率，雖然不是連續的，但也是非常簡單的數學結構，從 0 增大到某一數值，停留，然後再降到 0。而羊角螺線可以用三次曲線來趨近，那麼在實際的應用中就有相應的方便之處，比如在平面的矢量繪圖軟件中使用，來繪製類似 iOS 圓角圖標的曲線連續圓角四邊形。</p>
<img class="content-image" src="https://pic3.zhimg.com/50/v2-9e82d8860981543ccad93302f1ee6a0a_b.jpg" alt="">
<p>方法是，從 Wikipedia 可以下載到滿足使用的<a class=" wrap external" href="https://link.zhihu.com/?target=https%3A//en.wikipedia.org/wiki/Euler_spiral" target="_blank" rel="nofollow noreferrer">羊角螺線矢量圖</a>（SVG），然後就是定義圓角曲線中圓弧的大小是多少，然後確定這段圓弧佔圓角曲線總長度，也就是畫好如上圖 1 所示的圖形，然後按如圖 2 所示畫出圓弧一端的切線和法線，並畫出直線的垂線，形成一個類三角形，接着將這個類三角形移到羊角螺線之上，定好位置，如圖 3 所示，然後移動斜線，找到這條斜線與羊角螺線的相切位置，切斷羊角螺線如圖 4 所示，得到一段羊角螺線，作放大或縮小動作，裝入圓角曲線的圓弧兩頭，完畢如圖 5 所示。</p>
<p>這種繪製方法可以方便地在平面軟件內完成，因爲目前平面軟件沒有其他相應的工具來直接或輔助繪製這樣的圓角四邊形，即保證曲率連續又保證圓度。那麼曲線推敲的關鍵在於確定圓弧段的大小以及佔整體曲線長度的比率。</p>
<p>用羊角螺線以這種方式（兩端羊角螺線中間圓弧）繪製的圓角四邊形的缺點有兩個，一個就是形成的整條曲線它的曲率連續但曲率的變化率不連續，第二個就是羊角螺線段的曲率增大是線性的，所以雖然曲率具有加速度但曲率的變化率是恆定的。當對曲線的品質有更高要求時，或者是在三維產品上實現時，不僅對產品的形態還對產品的高光等光學表現有要求時，就可能需要用到更加光滑和連續的曲線了，因爲重要的是，這一切的區別都有可能被眼睛看到。</p>
<p><strong>iOS 圓角圖標</strong></p>
<img class="content-image" src="https://pic3.zhimg.com/50/v2-dcb24256710e456359c4e14ffdbd7822_b.jpg" alt="">
<p>Apple 的 <a class=" wrap external" href="https://link.zhihu.com/?target=https%3A//developer.apple.com/design/resources/" target="_blank" rel="nofollow noreferrer">UI Design Resources</a> 網頁上，提供了 iOS 的 UI 素材下載，在素材裏面提供了 iOS 圓角圖標的矢量圖，可以導入各種繪圖軟件中使用，而且提供的矢量的布點方式和 iOS 7 發佈時對圓角圖標描述的布點一樣，所以這個矢量圖的原真性就可以得到確認。</p>
<p>iOS 的圓角圖標從宏觀上看由 4 條直邊和 4 條曲線形成的圓角組成，從圓角曲線的曲率變化示意圖中可以看到它符合我們上面說的要求，即首先是曲率連續的曲線，然後能夠保證曲線的圓度，讓它看起來就像圓弧一樣，另外我們也可以看到曲率變化具有加速度，曲率變化的狀態大致可以分成五個階段，第一階段，也就是接近直線處，以緩慢的速度增加曲率，到達某一值進入第二階段，也就是快速增長階段，達到一定程度後，就連續光滑地過渡到第三階段，以極其平緩的速度變化幾乎勻速一般，也就是圓弧階段，之後的變化過程就是反方向，第四階段是快速降低，第五階段是緩慢降低到</p>
<p>0。</p>
<p>在圓角處&ldquo;緩慢&mdash;加速&mdash;平緩&mdash;加速&mdash;緩慢&rdquo;的變化軌跡是典型的，但具體到應用上亦要看具體情況，並不是做到同 iOS 圓角圖標的曲率變化曲線就能符合各種要求的。</p>
<img class="content-image" src="https://pic1.zhimg.com/50/v2-5f53ee661f81e7b6c640784592fc2e38_b.jpg" alt="">
<p>iOS 的圓角圖標在圓角處的曲線有 11 個分割點分成了 10 段曲線，它們都爲 3 階貝塞爾曲線，如果仔細看這 10 段曲線，會發現它們前後相連並非是嚴格的曲率連續（G2 連續），看曲率示意圖在相鄰的兩端曲線見，曲率的數值有略微的跳動。並不是形成了尖點，而是有臺階段差，如上圖藍色圓圈處所示，這些臺階段差在每兩段前後相連的曲線交點處都能找到，只不過太小在上圖無法看出。</p>
<p>雖然再嚴格的數學意義上來說，這樣的曲線連接只能達到切線連續（G1 連續），但是我們談論是否達到一種標準，還要看公差範圍，如果在公差範圍內，那麼它就是曲率連續。而更爲重要的是，我們要從宏觀上從視覺上從實際應用中去判斷，所以有這樣的臺階段差在這對曲線的光滑沒有影響。</p>
<p>那麼這些線段和段差是如何生成的呢？我們先來分下一下圓角處的曲線。</p>
<img class="content-image" src="https://pic2.zhimg.com/50/v2-f4122baa574c608217574825302c12b5_b.jpg" alt="">
<p>如上圖所示，我們對分段的曲線進行測量，測量它的曲線長度（弧長），會發現上圖所標的這些線段的長度都是完全一樣的，除了靠近直線端的兩條曲線段，它是作了再次的分割。</p>
<p>而這個再次的分割，將一段曲線長度爲 a 的曲線分成兩段曲線，曲線長度分別是 0.46*a 和 0.54*a，這個切割方式看上去很隨機，推斷有三種可能性：一種爲作者留下的簽名，可用來追蹤（萬一被他人侵權使用）或其他作用；第二種可能是留下的干擾因素，來干擾逆向；第三種可能是爲了保證數據在傳輸過程中的安全和保真性。</p>
<img class="content-image" src="https://pic4.zhimg.com/50/v2-53a5329acbe131e551bc7e0db6b1f7af_b.jpg" alt="">
<p>上圖是保證數據傳遞中的安全和保真性的一個例子，第一條曲線爲 5 階曲線與直線曲率連續，所以交點位置的曲率爲 0，如果這條曲率連續的曲線不作處理，傳遞給最高只有 3 階曲線的軟件，那麼曲線轉化過程中很有可能變成中間這樣，如藍色所示位置曲線彎曲方向發生了變化，爲了避免這種轉化過程中不必要的錯誤發生，在一些極值處，比如從 0 開始的變化，將其設置到一個與 0 接近的數值，比如上圖所示，可以給其一個非常微弱的曲率。（注：此爲個人經驗，並未經過理論上的驗證）</p>
<p>我們可以不必去追究 0.46*a 和 0.54*a 的由來，因爲我們能確定的是 iOS 的這寫曲線段的曲線長度（弧長）是均等的，而且都是 3 階曲線。那麼，首先能否定的，這個圖形肯定不是設計師一條接一條畫出來的，也不是由程序自動生成的，因爲這 10 段曲線是太多可能性裏面的一種，所以合理的解釋就是通過其他曲線，更高階的曲線，轉換爲多段的 3 階曲線，而這個轉換過程是以均等曲線長度爲依據的，也就達到上述的多段曲線長度爲 a 的曲線組成的圓角。</p>
<p>那麼爲什麼不用 3 階多段的曲線來直接繪製呢？因爲 3 階曲線<a class=" wrap external" href="https://link.zhihu.com/?target=http%3A//help.autodesk.com/view/ALIAS/2018/ENU/%3Fguid%3DGUID-151252E8-8E7F-4119-90D1-9784A81C402A" target="_blank" rel="nofollow noreferrer">內部最多隻滿足 G2 連續</a>，所以無法用它來有效的繪製順暢的曲線，如果要使用多段的曲線就需要用到高階曲線，比如 5 階或 7 階。</p>
<img class="content-image" src="https://pic3.zhimg.com/50/v2-8a25a8150a78bb76f6ef4f3cbde57d96_b.jpg" alt="">
<p>iOS 圓角圖標是如何來保證圓度的呢，我們可以看一下圓角部分最中間的兩段曲線，按照上面長度的關係，中間兩段曲線佔總曲線長度的 1/4。我們能看到一段曲線兩側的 R 值有微弱的差別，可以說明這兩段設計師就是以圓弧來要求的，但是爲什麼會不一樣，因爲是用 3 次曲線來逼近圓弧，如果使用 2 次曲線就可以畫出曲率完全均等的圓弧，但是 2 次曲線的引入，將爲後續圖形的追加以及數據傳遞帶來不可預見的複雜性，在 3D 相關的設計中，絕大多數的場景中，都需用 3 次曲線來繪製圓弧，基本上的軟件都提供 3 次曲線繪製圓形的工具。</p>
<img class="content-image" src="https://pic3.zhimg.com/50/v2-134e4a0f5d5a487ab7d7d52ee3961da2_b.jpg" alt="">
<p>因此，繪製問題就如上圖所示，需要事先確定的就是 X、R 和 L 的值，這些數值的確定就是這個圓角的設計工作。X 就是直線一端與圓弧圓心的距離，X 肯定爲正值數字，用圓弧來形成的圓角，就是此前提到的 G1 連續圓角，X 值爲 0。R 代表的圓角的大小，但因爲我們要作的是曲率連續的圓角，使用到的一端圓弧小於 1/4，即上圖的 L 值，所以在設計 R 的大小時並不能完全依賴於 G1 連續圓角的感覺。X、R 和 L 值的確定是需要反覆推敲，不斷畫草稿來尋找的過程。</p>
<p>一旦 X、R 和 L 值確定，我們就是怎麼來繪製圖形的問題了。</p>
<img class="content-image" src="https://pic4.zhimg.com/50/v2-0e1d633ecc4f1021a9bcec0719fa9e5b_b.jpg" alt="">
<p>上圖是達到 iOS 圓角圖標最直接快速的方法。圖 1 是在兩個直線段之間作一條 7 階 2 Span 的曲線，即總共控制點有 9 個控制點，7 階曲線具有很高的塑造性，而且在此處爲對稱性圖形，所以只需要操作 4 個控制點就能完成任務，第 2 和第 3 個控制點受制於曲率連續將與直線共線。圖 2 是去擬合圓形，尤其是斜線區域內要做到高度擬合，來回操作控制點。圖 3 是當曲線調整到滿意後，從中間斷開。圖 4 是再向下斷，將圓角曲線的一半斷成均等的 4 等份，得到的 4 段曲線長度相同的 7 階曲線。圖 5 是將這 4 段 7 階曲線轉換爲 3 階曲線（4 個控制點），並且作微調，保證兩兩相接的曲線切線連續，並且將曲率的段差控制到儘可能小。圖 6 就是鏡像後的結果。</p>
<p>這個繪製方法的關鍵點在於擬合圓部分，需要靠操作控制點，亦可藉助一些分析工具（比如分析最大最小曲率的差值），讓曲線儘可能接近圓形。另外一個要點就是曲線要先分段再降階，這樣可以很好的控制好因降階帶來的形變，如果在第三步直接將完整的 7 階曲線轉爲 3 階 8 段曲線，不僅形狀誤差會超出允許公差，更糟糕的曲率變化曲線將很難達到光滑。</p>
<p>而這個方法有一個缺點就是圓的擬合部分，需要耗費操作的時間，而且圓角曲線的中點並不在事先給出的確切位置上，改進方法如下。</p>
<img class="content-image" src="https://pic1.zhimg.com/50/v2-2970b61045d51bf8de9d5cc2311d1d1c_b.jpg" alt="">
<p>讓一段 5 階 2 Span 的曲線一端與直線曲率連續，另外一頭與中間的圓弧去作曲率連續，其餘操作手法類似上一方法，均分曲線段，降至三階曲線，微調曲率，鏡像完成。</p>
<p>以上方法都是指來完成類似 iOS 圖標圓角處 10 段曲線的繪製，而實際中有時候並不需要這麼複雜，那麼可考慮用以下方法。</p>
<img class="content-image" src="https://pic4.zhimg.com/50/v2-5a096dfdf0d5b72d00c2fba4dc9e069f_b.jpg" alt="">
<p>我們已知了三段曲線，那麼直接用一條 5 階的曲線完成直線和圓弧之間的連接，只要調整好曲線的曲率變化即可。</p>
<p>另外也可以用一條 3 階曲線來完成，當使用 3 階曲線時，只有一個控制點可供操作，因爲另外一個控制點要滿足與圓弧連續，又要與直線連續，就必然位於直線的延長線和圓弧端點處切線的交點上，所以可以拖動這個可供操作的控制點，來達到曲率連續，曲率連續的位置點存在並且只有一個，雖然用手拖動操作只能儘可能逼近，但正因爲這樣的特點，即如果用 3 階曲線來完成直線和圓弧之間的曲率連續，這條 3 階曲線是確定的，所以可以用算法來完成求解，前提是前面說到的 X、R 和 L 值確定。在但 X、R 和 L 值確定的情況下，用此方法來形成三段曲線的連接，有時效果未必很好，比如上圖右下所示的 3 階曲線段，曲率的最大值出現在內部而不是尾部，這將影響到曲線的質量，如果此情況下 X 值可以變動，即這條 3 階曲線與直線連接位置可以微調，可能會帶來較好的效果。</p>
<p>儘管用 3 階曲線來完成圓角曲線的繪製相對簡單，只需要動一個控制點，但在平面軟件中來繪製，因爲缺少曲率分析和呈現的模塊，所以還是難以實現操作。</p>
<p>前 Apple 出色的交互設計師 Bas Ording（就像 iOS 時代的 Bill Atkinson 一樣）在 2013 年申請了一項專利（2016 年獲准）<a class=" wrap external" href="https://link.zhihu.com/?target=https%3A//www.google.com/patents/US9396565" target="_blank" rel="nofollow noreferrer">US9396565</a>，專利名稱是&ldquo;用戶圖形界面元素中邊界的渲染&rdquo;，專利內容就是用 3 階曲線來繪製圓角四邊形，而基礎正是基於這條 3 階曲線的 4 個控制點具有約束性。</p>
<img class="content-image" src="https://pic2.zhimg.com/50/v2-d511ff499ed3a1a144f3ace869d2cabd_b.jpg" alt="">
<p>Bas Ording 採用算法來完成，基於 3 階曲線與兩段的直線和圓弧形成曲率連續後，這條 3 階曲線的控制點位置的特徵。他的圓角生成需要先輸入圓弧段的半徑，以及圓弧兩邊兩條非圓弧曲線佔圓角曲線整體弧長的比率，以這兩項參數輸入就可以生成圓角曲線，如果在輸入四邊形的長和寬，就可以生成圓角四邊形。他的算法我並沒全看明白，而他給出的結果是上圖中的</p>
<p>Q2Q1 間的距離是 Q3Q2 的兩倍，就可以看出這個算法並不能一般化，只是涵蓋了某一個子集的曲線，可能他在計算過程中加入了其它限定因素。</p>
<img class="content-image" src="https://pic2.zhimg.com/50/v2-f1feb88ddd00c07543382f85458bca51_b.jpg" alt="">
<p>以上是關於 iOS 圓角圖標及其實現的方法，只針對於平面的圖形效果，如果來繪製一條手機的輪廓線，肯定不會使用 iOS 圓角圖標那樣分成 10 段 3 階曲線，那將是另外一個更復雜的生成環境，數據的傳遞和實現就有更長的路徑。</p>
<p>圓角是一個小細節，就跟設計本身一樣，如果不在意，就沒必要大費周章，但如果在意這些細節，在意曲線的質量，那追求是無止境的。</p>
<p>&mdash; 原文發表於 [ i D 公 社 ] 的<a class=" wrap external" href="https://link.zhihu.com/?target=http%3A//www.hi-id.com/%3Fcat%3D1122" target="_blank" rel="nofollow noreferrer">陳釀</a>專欄</p>



</div>
</div>
</div>


</div>
</div>
                </div>

                <div class="feat share">
                    <a href="//twitter.com/share" class="popup">
                        <span class="icon-twitter"></span>
                    </a>
                </div>

                 <div style="display:none; position: relative;">
                    <iframe style="display:none;"></iframe>
                    <script type="text/javascript">
                      var data = {
                        placementid: '1676323079284163_1676324105950727',
                        format: '300x250',
                        testmode: false,
                        onAdLoaded: function(element) {
                          console.log('Audience Network ad loaded');
                          element.style.display = 'block';
                        },
                        onAdError: function(errorCode, errorMessage) {
                          console.log('Audience Network error (' + errorCode + ') ' + errorMessage);
                        }
                      };
                      (function(w,l,d,t){var a=t();var b=d.currentScript||(function(){var c=d.getElementsByTagName('script');return c[c.length-1];})();var e=b.parentElement;e.dataset.placementid=data.placementid;var f=function(v){try{return v.document.referrer;}catch(e){}return'';};var g=function(h){var i=h.indexOf('/',h.indexOf('://')+3);if(i===-1){return h;}return h.substring(0,i);};var j=[l.href];var k=false;var m=false;if(w!==w.parent){var n;var o=w;while(o!==n){var h;try{m=m||(o.$sf&&o.$sf.ext);h=o.location.href;}catch(e){k=true;}j.push(h||f(n));n=o;o=o.parent;}}var p=l.ancestorOrigins;if(p){if(p.length>0){data.domain=p[p.length-1];}else{data.domain=g(j[j.length-1]);}}data.url=j[j.length-1];data.channel=g(j[0]);data.width=screen.width;data.height=screen.height;data.pixelratio=w.devicePixelRatio;data.placementindex=w.ADNW&&w.ADNW.Ads?w.ADNW.Ads.length:0;data.crossdomain=k;data.safeframe=!!m;var q={};q.iframe=e.firstElementChild;var r='https://www.facebook.com/audiencenetwork/web/?sdk=5.3';for(var s in
                  data){q[s]=data[s];if(typeof(data[s])!=='function'){r+='&'+s+'='+encodeURIComponent(data[s]);}}q.iframe.src=r;q.tagJsInitTime=a;q.rootElement=e;q.events=[];w.addEventListener('message',function(u){if(u.source!==q.iframe.contentWindow){return;}u.data.receivedTimestamp=t();if(this.sdkEventHandler){this.sdkEventHandler(u.data);}else{this.events.push(u.data);}}.bind(q),false);q.tagJsIframeAppendedTime=t();w.ADNW=w.ADNW||{};w.ADNW.Ads=w.ADNW.Ads||[];w.ADNW.Ads.push(q);w.ADNW.init&&w.ADNW.init(q);})(window,location,document,Date.now||function(){return+new Date;});
                    </script>
                    <script type="text/javascript" src="https://connect.facebook.net/en_US/fbadnw.js" async></script>
                  </div>

                

                
                    <a rel="next" href="http://znews.site/post/201710/05/100507-9630494/" id="next">
                        <span class="nav-title nav-title-next"></span> &rarr;
                    </a>
                
                
                    <a rel="prev" href="http://znews.site/post/201710/05/100507-9539258/" id="prev">
                        &larr; <span class="nav-title nav-title-prev"></span>
                    </a>
                
            </article>
        </section>

        <footer>
	
</footer>
    </div>

    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="http://znews.site/js/main.js"></script>




<!-- Syntax highlighting -->
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.6/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
</body>
</html>
